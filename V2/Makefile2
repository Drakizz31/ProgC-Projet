CC=gcc
CFLAGS=-Wall -Wpedantic -std=c11 -Wextra -g -Wextra
RM=rm -f
DEPS= bloc.h inode.h sf.h
OBJ= bloc.o inode.o sf.o gerer_sfv2.o
EXE=gerer_sfv2

# Regenerer l'executable d'apres les dependances *.o 
$(EXE): $(OBJ)
	$(CC) $(CFLAGS) $(OBJ) -o $(EXE)

# Regenerer les .o quand les .h ou .c changent

gerer_sfv2.o: gerer_sfv2.c bloc.h inode.h sf.h
	$(CC) $(CFLAGS) -c gerer_sfv2.c

sf.o: sf.c sf.h bloc.h inode.h
	$(CC) $(CFLAGS) -c sf.c

bloc.o: bloc.c bloc.h
	$(CC) $(CFLAGS) -c bloc.c

inode.o: inode.c inode.h bloc.h
	$(CC) $(CFLAGS) -c inode.c

#Etre certain que la cible n'est pas un fichier de nom clean
.PHONY: clean

# Effacer objets et executables
clean:
	$(RM) $(OBJ) $(EXE)
